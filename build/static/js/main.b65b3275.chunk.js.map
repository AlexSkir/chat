{"version":3,"sources":["assets/sound.mp3","assets/chat.png","theme/theme.js","components/buttons/loginButton.js","components/buttons/loginInput.js","components/account/account.js","store/store.js","components/header/header.js","containers/mainPage/mainPage.js","components/footer/index.js","components/functions/index.js","components/chatItems/textChatItem.js","components/chatItems/smileChatItem.js","components/buttons/iconButtons.js","components/ChatInput/ChatInput.js","components/Notifications/notification.js","components/buttons/switcher.js","components/wsStatus/wsStatus.js","containers/chatPage/chatPage.js","components/functions/mySocket.js","app.js","index.js"],"names":["module","exports","__webpack_require__","p","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","golden","success","fail","LoginButton","props","react_default","a","createElement","ThemeProvider","Button","variant","color","style","outline","onClick","showInputOnClick","CssTextField","withStyles","root","& label.Mui-focused","& .MuiInput-underline:after","borderBottomColor","& .MuiOutlinedInput-root","& fieldset","borderColor","&:hover fieldset","&.Mui-focused fieldset","TextField","useStyles","makeStyles","position","iconHover","cursor","top","right","&:hover","&:active","LoginInput","name","classes","_React$useState","React","useState","_React$useState2","Object","slicedToArray","values","setValues","zIndex","id","label","value","onChange","event","objectSpread","defineProperty","target","onKeyPress","e","which","keyCode","key","getInputLogin","margin","backgroundColor","Icon","className","StyledMenu","paper","border","concat","Menu","assign","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","&:focus","& .MuiListItemIcon-root, & .MuiListItemText-primary","MenuItem","Account","anchorEl","setAnchorEl","aria-controls","aria-haspopup","currentTarget","ArrowDropDown_default","marginRight","keepMounted","open","Boolean","onClose","editNameHandler","ListItemIcon","Edit_default","ListItemText","Chat_default","react_router_dom","to","logOutHandler","PowerOff_default","newMessage","initialState","login","localStorage","getItem","messages","activeInput","status","switch","undefined","JSON","parse","mesAll","store","createStore","state","arguments","length","action","type","setItem","map","item","every","allitems","push","slice","console","log","toConsumableArray","Header","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","active","isLoggedIn","error","setState","dispatch","$","val","_this2","inputOnChange","_this3","logOutOnClick","showInput","src","chat","alt","accountButton","input","Component","connect","MainPage","preventDefault","role","tabIndex","onClickHandler","Footer","href","getDate","time","data","Date","day","month","getMonth","hour","getHours","minutes","getMinutes","getFullYear","makeSRC","code","findSmile","text","before","after","match","str","message","split","unicode","replaceSmileWithUnicode","replaced","indexOf","replace","makeEmojiFromUnicode","img","Image","focus","html","sel","range","window","getSelection","getRangeAt","rangeCount","deleteContents","document","innerHTML","lastNode","frag","createDocumentFragment","appendChild","insertNode","cloneRange","setStartAfter","collapse","removeAllRanges","addRange","selection","createRange","pasteHTML","pasteHtmlAtCaret","TextChatItem","messagePack","from","SmileChatItem","mes","m","width","height","MyIconButton","IconButton","icon","ChatInput","handleChange","evt","emoji","mounted","contentEditable","aria-multiline","is","selectNodeContents","setEndAfter","submitClickHandler","onMouseEnter","showSmilesOnHover","onMouseLeave","hideSmilesOnMouseLeave","lib_picker_default","nonce","Notifications","title","activeWindow","setTimeout","ignore","blur","prop","oldMes","newProp","click","tag","playSound","trigger","now","options","body","lang","dir","sound","swRegistration","getNotifications","then","notifications","display","handleButtonClick","bind","handleButtonClick2","Notification_default","notSupported","handleNotSupported","onPermissionGranted","handlePermissionGranted","onPermissionDenied","handlePermissionDenied","onShow","handleNotificationOnShow","handleNotificationOnClick","handleNotificationOnClose","onError","handleNotificationOnError","timeout","preload","hidden","autostart","loop","CustomSwitch","switchBase","&$checked","&$checked + $track","checked","track","Switch","Switcher","FormControlLabel","control","Status","Fragment","SignalCellularConnectedNoInternet0Bar_default","Chat","getState","ws","BrowserWebSocket","on","readyState","reconnect","splice","reverse","newMes","div","getElementById","scrollTo","scrollHeight","clientHeight","behavior","connectSocket","mess","emit","stringify","smileChatItem","textChatItem","components_ChatInput_ChatInput","notification","App","header_header","react_router","path","exact","component","components_footer","ReactDOM","render","es","app_App"],"mappings":"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","file":"static/js/main.b65b3275.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sound.13620510.mp3\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABrVBMVEVHcEyZZpmNbaD/AP+NbJ+NbZ+Kbp+NbJ+NbZ+AgKqObJ+NbJ6NbJ+NbJ+NbJ+LbaCQcKGQcqSQcaOZZpmAgICYg6+NbJ+MbJ+Oa6CRcKGObqCNbaCOb6GOaKGPcKOJbZuObKCNbJ+Kap+MbaCNbJ+NbKCNbZ+MbZ+NbJ+NbZ+VapWqVaqObJ+ObZ+OcZyMbKCNbKCMbKCZeKGNbKCNbJ+NbJ/CzefO2e2st9D5467qzZjI0+rEz+iUfqvN2O3k6vSag7DV3u/M1+2chrKZgrDi6POchLHa4/Hfx6rS2+7j6fTDzufv1aCZg7D44azDzujU3O3e5PKXdp7P2u2bhbGzvtelpcSUfKqorsr54q7exqrq06yig6Hsz5rU3O7a4vHS3e/T3O3X4PDV3e7X3/DrzpmahLDny5jrzpq5mZzR3O62t9a4mpyst8++yuSuudGtuNHAy+WtudGuuNG9vdqjosKhnb+PcaKlp8Wqss2QdKSnq8mSeaiWhK6Xg66psMuTfamsttCPcKKqtM2pi6Ogm76niKO1maWVdKDmz6uObp/hyaqjhKL03a3ZwKq6p+DbAAAANXRSTlMABW4BwLwl5YgGh4nm6dRLqFz1CgK9wc8rff3J/Rv+HOTiGFvu2496+soMAy3+ErvTdvzz8XV3z8kAAAJrSURBVFjD7ZdVe9swFEBTtDNmZma+kWGZnSVNU9hKK60dMzNTx7zfPFlzHNvylSVvD3vofZBBOueTLFnfVS43Hf9F5GfOAqXQ9HxEoINy6BGBBjcK4rAJIXb9hpCHoEUEAGr8kcMASgKOLygIek4n8AqCnnNOF88rCC44Tvd5jrcVhtDVfZbnibzAJhcTeHlBwvdjt7ICjJcVoLykAOdxQYX/bdyCXfWu5RCPC1xecMwmZe96OcTLDEHQfymBmE8XpPAktjNxgjSexHYm4Sz8mYkoTwWWZZlmzd+ZhLPAZsLjzzR42xeY/reIDiHW/6N+/0tOKeALIgHGdzgdpTovEiB8p+NFp8+jgv4+hA/1gNUign5nYAjhg2/AajFB38B1lKejaPCYwB4S8CTEIwJ0/ByfKKicoC1c11tNZXpX9f5/9q5arhestuIiAgC2wtimzxar/44Ehe2/SxLcG74PYBiGVHF3+DYneGAYxaIhXdzhBIZixAQajKjxIzAYEYRSnNFbrMXbYkqKcy0iyOtaUDPGBB/F+ODNK5Z1qSFoxAJ44fFj72BjsF9aSPQmCBatgGeUfz8KbS1pglPHEwTL4Anl30zB+g05seBqr8dzgmZ4ZRiPnsO69tCWbwoiLlgKj5++Bli5NpdNMBfgJcCq5U2RJLSG87VYwjmHztCaxauFafCHcQqOf6o/zog0bp09b/7CeCIeWiMsTlLBBJJ0S8QW+EwF32F71pNB+7bdtAtfYV/ms4UOBybMn98OtmQVNLXCl1/mJOzK3IUdewF+TMLW7AeknfsP0QnY/DdnrD3NbZuWTB81/2X8BlOCJK5wgIZZAAAAAElFTkSuQmCC\"","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#e7f2ff', // light\n      main: '#b4bff1',\n      dark: '#838fbe',\n      contrastText: '#292733'\n    },\n    secondary: {\n      light: '#524f5c', // dark\n      main: '#454153',\n      dark: '#292733',\n      contrastText: '#fce8c5'\n    },\n    golden: {\n      light: '#ffffc5',\n      main: '#fad694',\n      dark: '#c6a565',\n      contrastText: '#292733'\n    },\n    success: {\n      light: '#e6ffe6',\n      main: '#2ac92a',\n      dark: '#288028',\n    },\n    fail: {\n      light: '#fff7f5',\n      main: '#f54922',\n      dark: '#b53c21'\n    }\n  }\n});\n\nexport default theme;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\nimport theme from 'theme/theme';\n\nexport default function LoginButton(props) {\n  return (\n    <ThemeProvider theme={theme}>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        style={{ outline: 'none' }}\n        onClick={props.showInputOnClick}\n      >\n        Log In\n      </Button>\n    </ThemeProvider>\n  );\n}\n\nLoginButton.propTypes = {\n  showInputOnClick: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Icon from '@material-ui/core/Icon';\nimport theme from 'theme/theme';\n\nconst CssTextField = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: theme.palette.primary.contrastText\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: theme.palette.secondary.dark\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: theme.palette.primary.dark,\n        color: theme.palette.primary.contrastText\n      },\n      '&:hover fieldset': {\n        borderColor: theme.palette.secondary.dark\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: theme.palette.secondary.dark\n      }\n    }\n  }\n})(TextField);\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    position: 'absolute'\n  },\n  iconHover: {\n    cursor: 'pointer',\n    position: 'absolute',\n    top: '31px',\n    right: '5px',\n    color: theme.palette.primary.dark,\n    '&:hover': {\n      color: theme.palette.secondary.light\n    },\n    '&:active': {\n      color: theme.palette.secondary.dark\n    }\n  }\n}));\n\nexport default function LoginInput(props) {\n  const classes = useStyles();\n\n  const [values, setValues] = React.useState({\n    name: ''\n  });\n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value });\n  };\n\n  return (\n    <form\n      style={{\n        position: 'absolute',\n        right: '13px',\n        top: '47px',\n        zIndex: 10\n      }}\n    >\n      <CssTextField\n        id=\"inputLogin\"\n        label=\"Name\"\n        value={values.name}\n        onChange={handleChange('name')}\n        onKeyPress={e => {\n          if (e.which === 13 || e.keyCode === 13 || e.key === 'enter') {\n            props.getInputLogin();\n          }\n        }}\n        margin=\"normal\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: theme.palette.primary.light\n        }}\n      />\n      <Icon className={classes.iconHover} onClick={props.getInputLogin}>\n        send\n      </Icon>\n    </form>\n  );\n}\n\nLoginInput.propTypes = {\n  getInputLogin: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport LogOut from '@material-ui/icons/PowerOff';\nimport EditIcon from '@material-ui/icons/Edit';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport theme from 'theme/theme';\nimport 'components/account/account.scss';\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: `1px solid ${theme.palette.secondary.light}`,\n    backgroundColor: theme.palette.primary.light,\n    color: theme.palette.primary.contrastText\n  }\n})(props => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center'\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'center'\n    }}\n    {...props}\n  />\n));\n\nconst StyledMenuItem = withStyles(() => ({\n  root: {\n    '&:focus': {\n      backgroundColor: theme.palette.primary.dark,\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.primary.contrastText\n      }\n    }\n  }\n}))(MenuItem);\n\nexport default function Account(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose() {\n    setAnchorEl(null);\n  }\n\n  return (\n    <div>\n      <ThemeProvider theme={theme}>\n        <Button\n          aria-controls=\"customized-menu\"\n          aria-haspopup=\"true\"\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={handleClick}\n          style={{ outline: 'none' }}\n        >\n          {props.name}\n          <ArrowDropDownIcon style={{ marginRight: '-10px' }} />\n        </Button>\n        <StyledMenu\n          id=\"customized-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          <StyledMenuItem\n            onClick={() => {\n              setAnchorEl(null);\n              props.editNameHandler();\n            }}\n          >\n            <ListItemIcon>\n              <EditIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Change Name\" />\n          </StyledMenuItem>\n          <StyledMenuItem\n            onClick={() => {\n              setAnchorEl(null);\n            }}\n          >\n            <ListItemIcon>\n              <ChatIcon />\n            </ListItemIcon>\n            <Link to=\"/chat\" className=\"menu-links\">\n              <ListItemText primary=\"Join Chat\" />\n            </Link>\n          </StyledMenuItem>\n          <StyledMenuItem\n            onClick={() => {\n              setAnchorEl(null);\n              props.logOutHandler();\n            }}\n          >\n            <ListItemIcon>\n              <LogOut />\n            </ListItemIcon>\n            <Link to=\"/\" className=\"menu-links\">\n              <ListItemText primary=\"Log Out\" />\n            </Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </ThemeProvider>\n    </div>\n  );\n}\n\nAccount.propTypes = {\n  name: PropTypes.string.isRequired,\n  editNameHandler: PropTypes.func.isRequired,\n  logOutHandler: PropTypes.func.isRequired\n};\n","import { createStore } from 'redux';\n\nconst initialState = {\n  login: localStorage.getItem('login') || 'Guest',\n  messages: ['loading'],\n  activeInput: false,\n  status: 3,\n  newMessage: localStorage.getItem('newMes') || 'new message!',\n  switch: JSON.parse(localStorage.getItem('switch')) === undefined ? false : JSON.parse(localStorage.getItem('switch'))\n};\n\nlet mesAll = [];\nlet newMessage;\n\nfunction appState(state = initialState, action) {\n  switch (action.type) {\n    case 'login':\n      localStorage.setItem('login', action.value);\n      return Object.assign({}, state, {\n        login: action.value\n      });\n    case 'switch':\n      localStorage.setItem('switch', action.value);\n      return Object.assign({}, state, {\n        switch: action.value\n      });\n    case 'newMessage':\n      return Object.assign({}, state, {\n        newMessage: action.value\n      });\n    case 'messages':\n      if (mesAll.length === 0) {\n        mesAll = action.value;\n      } else {\n        mesAll.map(item => {\n          if (\n            item.id &&\n            mesAll.every(allitems => allitems.id !== action.value[0].id)\n          ) {\n            newMessage = action.value[0];\n            mesAll.push(newMessage);\n            mesAll.slice(0, 100);\n          } else if (!item.id) {\n            console.log(item);\n          }\n        });\n        return Object.assign({}, state, {\n          messages: [...mesAll]\n        });\n      }\n      return Object.assign({}, state, {\n        messages: mesAll\n      });\n    case 'activeInput':\n      return Object.assign({}, state, {\n        activeInput: action.value\n      });\n    case 'status':\n      return Object.assign({}, state, {\n        status: action.value\n      });\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(appState);\n\nexport default store;\n","/* eslint-disable consistent-return */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport $ from 'jquery';\nimport './header.scss';\nimport chat from 'assets/chat.png';\nimport LoginButton from 'components/buttons/loginButton';\nimport LoginInput from 'components/buttons/loginInput';\nimport Account from 'components/account/account';\nimport store from 'store/store';\n\nclass Header extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      active: false,\n      isLoggedIn: false,\n      error: false\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.login !== 'Guest') {\n      this.setState({ name: this.props.login, isLoggedIn: true });\n    }\n  }\n\n  showInput() {\n    if (this.state.active) {\n      this.setState({ active: false });\n      store.dispatch({ type: 'activeInput', value: false });\n    } else {\n      this.setState({ active: true });\n      store.dispatch({ type: 'activeInput', value: true });\n    }\n  }\n\n  inputOnChange() {\n    const name = $('#inputLogin').val();\n    if (name && name.length <= 20) {\n      store.dispatch({ type: 'login', value: name });\n      store.dispatch({ type: 'activeInput', value: false });\n      this.setState({ active: false, isLoggedIn: true, name, error: false });\n    } else {\n      this.setState({ error: true });\n    }\n  }\n\n  input() {\n    if (this.props.activeInput) {\n      return <LoginInput getInputLogin={e => this.inputOnChange(e)} />;\n    }\n  }\n\n  logOutOnClick() {\n    store.dispatch({ type: 'login', value: 'Guest' });\n    this.setState({ isLoggedIn: false });\n  }\n\n  accountButton() {\n    if (this.state.isLoggedIn) {\n      return (\n        <Account\n          name={this.state.name}\n          editNameHandler={() => store.dispatch({ type: 'activeInput', value: true })}\n          logOutHandler={() => this.logOutOnClick()}\n        />\n      );\n    }\n    return <LoginButton showInputOnClick={() => this.showInput()} />;\n  }\n\n  render() {\n    return (\n      <div className=\"row header justify-content-between align-items-center\">\n        <Link className=\"col-auto icon-block\" to=\"/\">\n          <img className=\"header-img d-none d-sm-block\" src={chat} alt=\"\" />\n          <h5 className=\"icon-name\">Awesome Chat</h5>\n        </Link>\n        <div className=\"col-auto account-button\">{this.accountButton()}</div>\n        <span className={`text-danger input-error ${this.state.error ? '' : 'hidden'}`}>\n          Input name (max 20 symbols)\n        </span>\n        {this.input()}\n      </div>\n    );\n  }\n}\n\nHeader.propTypes = {\n  login: PropTypes.string.isRequired,\n  activeInput: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({ login: state.login, activeInput: state.activeInput });\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport 'containers/mainPage/MainPage.scss';\nimport store from 'store/store';\n\nclass MainPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  onClickHandler(e) {\n    if (this.props.login === 'Guest') {\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"row justify-content-center align-items-center mainPage\"\n        onClick={() => store.dispatch({ type: 'activeInput', value: false })}\n        role=\"button\"\n        onKeyPress={undefined}\n        tabIndex=\"-1\"\n      >\n        <Link to=\"/chat\" onClick={e => this.onClickHandler(e)}>\n          <div className=\"smile-text text-monospace text-uppercase\">\n            <div className=\"circle\" />\n            <div className=\"circle-blink\">\n              <div className=\"shadow\" />\n              <div className=\"blinked\" />\n            </div>\n            <span className=\"char1\">J</span>\n            <span className=\"char2\">o</span>\n            <span className=\"char3\">i</span>\n            <span className=\"char4\">n</span>\n            <span className=\"char5\" />\n            <span className=\"char6\">o</span>\n            <span className=\"char7\">u</span>\n            <span className=\"char8\">r</span>\n            <span className=\"char9\" />\n            <span className=\"char10\">a</span>\n            <span className=\"char11\">w</span>\n            <span className=\"char12\">e</span>\n            <span className=\"char13\">s</span>\n            <span className=\"char14\">o</span>\n            <span className=\"char15\">m</span>\n            <span className=\"char16\">e</span>\n            <span className=\"char17\" />\n            <span className=\"char18\">c</span>\n            <span className=\"char19\">h</span>\n            <span className=\"char20\">a</span>\n            <span className=\"char21\">t</span>\n          </div>\n        </Link>\n      </div>\n    );\n  }\n}\n\nMainPage.propTypes = {\n  login: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({ login: state.login });\nexport default connect(mapStateToProps)(MainPage);\n","import React from 'react';\nimport 'components/footer/footer.scss';\n\nfunction Footer() {\n  return (\n    <div className=\"row align-items-center footer\">\n      <span className=\"rights text-wrap\">\n        © 2019 Aleksandra Skirnevskaia, Email for contacts\n        <a className=\"footer-mail font-weight-bold\" href=\"mailto:a.skirnevskaia@gmail.com\">\n          a.skirnevskaia@gmail.com\n        </a>\n      </span>\n    </div>\n  );\n}\n\nexport default Footer;\n","/* eslint-disable no-cond-assign */\n/* eslint-disable no-bitwise */\nimport $ from 'jquery';\n\nexport function makeRandomId() {\n  const j = [];\n  let x;\n  for (let i = 0; i < 20; i += 1) {\n    x = [[48, 57], [65, 90], [97, 122]][(Math.random() * 3) >> 0];\n    j[i] = String.fromCharCode(((Math.random() * (x[1] - x[0] + 1)) >> 0) + x[0]);\n  }\n  return j.join('');\n}\n\nexport function getDate(time) {\n  const data = new Date(time);\n  let day = data.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  let month = data.getMonth() + 1;\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  let hour = data.getHours();\n  if (hour < 10) {\n    hour = `0${hour}`;\n  }\n  let minutes = data.getMinutes();\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n  return `${hour}:${minutes} ${day}/${month}/${data.getFullYear()}`;\n}\n\nexport function makeSRC(code) {\n  return `/smiles/${code}.png`;\n  // return `https://firebasestorage.googleapis.com/v0/b/awesome-chat-emoji.appspot.com/o/${code}.png?alt=media`;\n}\n\nexport function findSmile(text) {\n  let before = text;\n  const after = [];\n  while (before.match(/:\\w+:/gm)) {\n    const str = before.match(/:\\w+:/gm)[0];\n    const message = before.split(str);\n    const unicode = str.split(':')[1];\n    after.push(message[0]);\n    after.push([unicode]);\n    if (!message[1].match(/:\\w+:/gm)) {\n      after.push(message[1]);\n      return after;\n    }\n    before = message[1];\n  }\n  return after;\n}\n\nexport function replaceSmileWithUnicode(text) {\n  let replaced = text;\n  while (replaced.indexOf('.png?alt=media\">') !== -1) {\n    const str = replaced\n      .replace(\n        '<img width=\"32\" height=\"32\" src=\"https://firebasestorage.googleapis.com/v0/b/awesome-chat-emoji.appspot.com/o/',\n        ':'\n      )\n      .replace('.png?alt=media\">', ':');\n    replaced = str;\n  }\n  while (replaced.indexOf('&nbsp;') !== -1) {\n    const str = replaced.replace('&nbsp;', ' ');\n    replaced = str;\n  }\n  while (replaced.indexOf('<br>') !== -1) {\n    const str = replaced.replace('<br>', '').replace('</br>', '');\n    replaced = str;\n  }\n  while (replaced.indexOf('<span') !== -1) {\n    const str = replaced.replace('<span style=\"font-size: 1rem;\">', '').replace('</span>', '');\n    replaced = str;\n  }\n  while (replaced.indexOf('/smiles/') !== -1) {\n    const str = replaced\n      .replace('<img width=\"32\" height=\"32\" src=\"/smiles/', ':')\n      .replace('.png\">', ':');\n    replaced = str;\n  }\n\n  return replaced;\n}\n\nfunction pasteHtmlAtCaret(html) {\n  let sel;\n  let range;\n  if (window.getSelection) {\n    // IE9 and non-IE\n    sel = window.getSelection();\n    if (sel.getRangeAt && sel.rangeCount) {\n      range = sel.getRangeAt(0);\n      range.deleteContents();\n\n      // Range.createContextualFragment() would be useful here but is\n      // non-standard and not supported in all browsers (IE9, for one)\n      const el = document.createElement('div');\n      el.innerHTML = html;\n      const frag = document.createDocumentFragment();\n      let node;\n      let lastNode;\n      lastNode = frag.appendChild(html);\n      // while ((node = el.firstChild)) {\n      //   lastNode = frag.appendChild(node);\n      // }\n      range.insertNode(frag);\n\n      // Preserve the selection\n      if (lastNode) {\n        range = range.cloneRange();\n        range.setStartAfter(html);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    }\n  } else if (document.selection && document.selection.type !== 'Control') {\n    // IE < 9\n    document.selection.createRange().pasteHTML(html);\n  }\n}\n\nexport function makeEmojiFromUnicode(event) {\n  const img = new Image(32, 32);\n  img.src = makeSRC(event.unicode);\n  const html = `<img width=\"32\" height=\"32\" src=${makeSRC(event.unicode)}>`;\n  // const html = `${img}`\n  $('#inputChat').focus();\n  pasteHtmlAtCaret(img);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport 'components/chatItems/chatItems.scss';\nimport { getDate } from 'components/functions';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from 'theme/theme';\n\nfunction TextChatItem(props) {\n  const login = props.login;\n  const messagePack = props.messagePack;\n  if (messagePack.from === login) {\n    return (\n      <ThemeProvider theme={theme}>\n        <div className=\"row chat-page-item justify-content-end\">\n          <div className=\"my-message\">\n            <div className=\"col-auto my-message-wrapper\">\n              <div className=\"col-auto chat-item-from\">{messagePack.from}</div>\n              <div className=\"col-auto chat-item-message\">{messagePack.message}</div>\n              <div className=\"col-auto chat-item-date\">{getDate(messagePack.time)}</div>\n            </div>\n          </div>\n        </div>\n      </ThemeProvider>\n    );\n  }\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"row chat-page-item justify-content-start\">\n        <div className=\"their-message\">\n          <div className=\"col-auto their-message-wrapper\">\n            <div className=\"col-auto chat-item-from\">{messagePack.from}</div>\n            <div className=\"w-100\" />\n            <div className=\"col-auto chat-item-message\">{messagePack.message}</div>\n            <div className=\"w-100\" />\n            <div className=\"col-auto chat-item-date\">{getDate(messagePack.time)}</div>\n          </div>\n        </div>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nTextChatItem.propTypes = {\n  login: PropTypes.string.isRequired,\n  messagePack: PropTypes.instanceOf(Object).isRequired\n};\n\nexport default TextChatItem;\n","/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport 'components/chatItems/chatItems.scss';\nimport { getDate, findSmile, makeSRC } from 'components/functions';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from 'theme/theme';\n\nfunction SmileChatItem(props) {\n  const login = props.login;\n  const messagePack = props.messagePack;\n  if (messagePack.from === login) {\n    return (\n      <ThemeProvider theme={theme}>\n        <div className=\"row chat-page-item justify-content-end\">\n          <div className=\"my-message\">\n            <div className=\"col-auto my-message-wrapper\">\n              <div className=\"col-auto chat-item-from\">{messagePack.from}</div>\n              <div className=\"col-auto chat-item-message\">\n                {findSmile(messagePack.message).map((mes, m) => {\n                  if (typeof mes === 'string') {\n                    return <span key={m}>{mes}</span>;\n                  }\n                  return <img key={m} width=\"32\" height=\"32\" src={makeSRC(mes[0])} alt={mes[0]} />;\n                })}\n              </div>\n              <div className=\"col-auto chat-item-date\">{getDate(messagePack.time)}</div>\n            </div>\n          </div>\n        </div>\n      </ThemeProvider>\n    );\n  }\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"row chat-page-item justify-content-start\">\n        <div className=\"their-message\">\n          <div className=\"col-auto their-message-wrapper\">\n            <div className=\"col-auto chat-item-from\">{messagePack.from}</div>\n            <div className=\"col-auto chat-item-message\">\n              {findSmile(messagePack.message).map((mes, m) => {\n                if (typeof mes === 'string') {\n                  return <span key={m}>{mes}</span>;\n                }\n                return <img key={m} width=\"32\" height=\"32\" src={makeSRC(mes[0])} alt={mes[0]} />;\n              })}\n            </div>\n            <div className=\"col-auto chat-item-date\">{getDate(messagePack.time)}</div>\n          </div>\n        </div>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nSmileChatItem.propTypes = {\n  login: PropTypes.string.isRequired,\n  messagePack: PropTypes.instanceOf(Object).isRequired\n};\n\nexport default SmileChatItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport theme from 'theme/theme';\n\nexport default function MyIconButton(props) {\n  const useStyles = makeStyles(() => ({\n    root: {\n      position: 'absolute'\n    },\n    iconHover: {\n      color: theme.palette[props.theme]['main'],\n      '&:hover': {\n        color: theme.palette[props.theme]['light']\n      },\n      '&:active': {\n        color: theme.palette[props.theme]['dark']\n      }\n    }\n  }));\n  const classes = useStyles();\n  return (\n    <ThemeProvider theme={theme}>\n      <IconButton\n        variant=\"contained\"\n        className={classes.iconHover}\n        style={{ outline: 'none' }}\n        onClick={props.onClickHandler}\n      >\n        {props.icon}\n      </IconButton>\n    </ThemeProvider>\n  );\n}\n\nMyIconButton.propTypes = {\n  onClickHandler: PropTypes.func.isRequired,\n  theme: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport $ from 'jquery';\nimport EmojiPicker from 'emojione-picker';\nimport 'emojione-picker/css/picker.css';\nimport { makeEmojiFromUnicode } from 'components/functions';\nimport 'components/ChatInput/chatInput.scss';\nimport MyIconButton from 'components/buttons/iconButtons';\nimport Icon from '@material-ui/core/Icon';\n\nclass ChatInput extends Component {\n  constructor() {\n    super();\n    this.state = {\n      emoji: false,\n      html: ''\n    };\n    this.mounted = false;\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.setState(null);\n    this.mounted = false;\n  }\n\n  showSmilesOnHover() {\n    this.setState({ emoji: true });\n  }\n\n  hideSmilesOnMouseLeave() {\n    this.setState({ emoji: false });\n  }\n\n  handleChange = evt => {\n    this.setState({ html: evt.target.value });\n  };\n\n  render() {\n    return (\n      <div className=\"row chat-page-form justify-content-center align-items-center\">\n        <div className=\"input-area row justify-content-center align-items-center\">\n          <div className=\"media-selector\">\n            <MyIconButton\n              onClickHandler={() => console.log('not ready yet')}\n              theme=\"secondary\"\n              icon={<Icon>attach_file</Icon>}\n            />\n          </div>\n          <span\n            id=\"inputChat\"\n            className=\"input-text-area row align-items-center\"\n            html={this.state.html}\n            onChange={this.handleChange}\n            contentEditable=\"true\"\n            aria-multiline=\"true\"\n            role=\"textbox\"\n            // role=\"button\"\n            tabIndex=\"-1\"\n            onClick={e => {\n              if ($(e.target).is('img')) {\n                var range = document.createRange();\n                $(e.target).focus();\n                range.selectNodeContents(e.target);\n                range.collapse(true);\n                range.setEndAfter(e.target);\n                var sel = window.getSelection();\n                sel.removeAllRanges();\n                sel.addRange(range);\n                $(\"#inputChat\").focus();\n                return false;\n              }\n            }}\n            onKeyPress={e => {\n              if (e.key === 'Enter' || e.which === 13 || e.keyCode === 13) {\n                e.preventDefault();\n                this.props.submitClickHandler();\n              }\n            }}\n          />\n          <div className=\"chat-buttons\">\n            <div\n              id=\"emoji-block\"\n              className=\"emoji-block\"\n              onMouseEnter={() => this.showSmilesOnHover()}\n              onMouseLeave={() => this.hideSmilesOnMouseLeave()}\n            >\n              <MyIconButton\n                onClickHandler={() => this.showSmilesOnHover()}\n                theme=\"secondary\"\n                icon={<Icon>emoji_emotions</Icon>}\n              />\n              <div className={`${this.state.emoji ? 'smile-block' : 'hidden'}`}>\n                <EmojiPicker\n                  id=\"emoji-box\"\n                  className=\"emoji-picker\"\n                  nonce=\"NONCE_GENERATED_WHEN_TRANSMITTING\"\n                  onChange={e => {\n                    this.setState({ html: makeEmojiFromUnicode(e) });\n                  }}\n                />\n              </div>\n            </div>\n            <div className=\"send-button\">\n              <MyIconButton\n                onClickHandler={() => this.props.submitClickHandler()}\n                theme=\"secondary\"\n                icon={<Icon>send</Icon>}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nChatInput.propTypes = {\n  submitClickHandler: PropTypes.func.isRequired\n};\n\nexport default ChatInput;\n","import React from 'react';\nimport Notification from 'react-web-notification';\nimport $ from 'jquery';\nimport sound from 'assets/sound.mp3';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\n//allow react dev tools work\nwindow.React = React;\n\nclass Notifications extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      activeWindow: true\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({ ignore: this.props.switch ? false : true });\n    }, 100);\n    $(window).blur(() => {\n      this.setState({ activeWindow: false });\n    })\n    $(window).focus(() => {\n      this.setState({ activeWindow: true });\n    })\n  }\n\n  componentWillReceiveProps() {\n    setTimeout(() => {\n      const prop = this.props.newMessage;\n      const oldMes = localStorage.getItem('newMes');\n      if (prop !== oldMes || oldMes === 'undefined') {\n        this.setState({ newProp: prop })\n        localStorage.setItem('newMes', prop)\n        if (this.state.ignore === false) {\n          $('#notif').click();\n        }\n      }\n    }, 200);\n    setTimeout(() => {\n      if (this.props.switch !== undefined) {\n        this.setState({ ignore: this.props.switch ? false : true });\n      }\n    }, 200);\n  }\n\n  handlePermissionGranted() {\n    if (this.props.switch === true) {\n      console.log('Permission Granted');\n      this.setState({\n        ignore: false\n      });\n    }\n  }\n\n  handlePermissionDenied() {\n    if (this.props.switch === false) {\n      console.log('Permission Denied');\n      this.setState({\n        ignore: true\n      });\n    }\n  }\n  handleNotSupported() {\n    console.log('Web Notification not Supported');\n    this.setState({\n      ignore: true\n    });\n  }\n\n  handleNotificationOnClick(e, tag) {\n    //console.log(e, 'Notification clicked tag:' + tag);\n  }\n\n  handleNotificationOnError(e, tag) {\n    //console.log(e, 'Notification error tag:' + tag);\n  }\n\n  handleNotificationOnClose(e, tag) {\n    //console.log(e, 'Notification closed tag:' + tag);\n  }\n\n  handleNotificationOnShow(e, tag) {\n    this.playSound();\n    //console.log(e, 'Notification shown tag:' + tag);\n  }\n\n  playSound() {\n    $('#sound').trigger('play');\n  }\n\n  handleButtonClick() {\n    if (this.state.ignore) {\n      return;\n    }\n    const now = Date.now();\n\n    const title = `New message at Awesome Chat ${now}`;\n    const body = `Message: ${this.state.newProp || '...'}`;\n    const tag = now;\n    const icon = 'http://mobilusoss.github.io/react-web-notification/example/Notifications_button_24.png';\n    const options = {\n      tag: tag,\n      body: body,\n      icon: icon,\n      lang: 'en',\n      dir: 'ltr',\n      sound: sound\n    }\n    this.setState({\n      title: title,\n      options: options\n    });\n  }\n\n  handleButtonClick2() {\n    this.props.swRegistration.getNotifications({}).then(function (notifications) {\n      console.log(notifications);\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <button id=\"notif\" style={{ display: 'none' }} onClick={this.handleButtonClick.bind(this)}>Notif!</button>\n        {document.title === 'swExample' && <button onClick={this.handleButtonClick2.bind(this)}>swRegistration.getNotifications</button>}\n        <Notification\n          ignore={(this.state.ignore && this.state.activeWindow) || this.state.activeWindow}\n          notSupported={this.handleNotSupported.bind(this)}\n          onPermissionGranted={this.handlePermissionGranted.bind(this)}\n          onPermissionDenied={this.handlePermissionDenied.bind(this)}\n          onShow={this.handleNotificationOnShow.bind(this)}\n          onClick={this.handleNotificationOnClick.bind(this)}\n          onClose={this.handleNotificationOnClose.bind(this)}\n          onError={this.handleNotificationOnError.bind(this)}\n          timeout={2000}\n          title={this.state.title}\n          options={this.state.options}\n          swRegistration={this.props.swRegistration}\n        />\n        <audio id='sound' preload='auto'>\n          <source src={sound} type='audio/mpeg' />\n          <embed hidden={true} autostart='false' loop={false} src={sound} />\n        </audio>\n      </div>\n    )\n  }\n};\n\nNotifications.propTypes = {\n  newMessage: PropTypes.string.isRequired,\n  switch: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]).isRequired\n};\n\nconst mapStateToProps = state => ({ newMessage: state.newMessage, switch: state.switch });\nexport default connect(mapStateToProps)(Notifications);","import React from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport theme from 'theme/theme';\nimport { withStyles } from '@material-ui/core/styles';\nimport store from 'store/store';\n\nconst CustomSwitch = withStyles({\n  switchBase: {\n    color: theme.palette.golden.dark,\n    '&$checked': {\n      color: theme.palette.primary.main,\n    },\n    '&$checked + $track': {\n      backgroundColor: theme.palette.primary.dark,\n    },\n  },\n  checked: {},\n  track: {},\n})(Switch);\n\nexport default function Switcher(props) {\n  const [state, setState] = React.useState({\n    checked: props.ignore,\n  });\n\n  const handleChange = name => event => {\n    setState({ ...state, [name]: event.target.checked });\n    store.dispatch({ type: 'switch', value: event.target.checked });\n  };\n\n  return (\n    <FormControlLabel\n      control={\n        <CustomSwitch\n          checked={state.checked}\n          onChange={handleChange('checked')}\n          value=\"checked\"\n        />\n      }\n      label=\"Notifications\"\n    />\n  );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MyIconButton from 'components/buttons/iconButtons';\nimport Icon from '@material-ui/core/Icon';\nimport SignalCellularConnectedNoInternet0BarIcon from '@material-ui/icons/SignalCellularConnectedNoInternet0Bar';\n\nexport default function Status(props) {\n  return (\n    <div className=\"status-block\">\n      {props.status === 1 ?\n        <MyIconButton\n          onClickHandler={() => undefined}\n          theme=\"success\"\n          icon={<Icon>checkIcon</Icon>}\n        /> :\n        <><span>reconnecting</span>\n          <MyIconButton\n            onClickHandler={() => undefined}\n            theme=\"fail\"\n            icon={<SignalCellularConnectedNoInternet0BarIcon />}\n          />\n        </>\n      }\n    </div>\n  );\n}\n\nStatus.propTypes = {\n  status: PropTypes.number.isRequired\n};\n","/* eslint-disable consistent-return */\n/* eslint-disable array-callback-return */\n/* eslint-disable class-methods-use-this */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport 'emojione-picker/css/picker.css';\nimport $ from 'jquery';\nimport store from 'store/store';\nimport { replaceSmileWithUnicode } from 'components/functions';\nimport 'containers/chatPage/chatPage.scss';\nimport TextChatItem from 'components/chatItems/textChatItem';\nimport SmileChatItem from 'components/chatItems/smileChatItem';\nimport ChatInput from 'components/ChatInput/ChatInput';\nimport connectSocket from 'components/functions/mySocket';\nimport Notifications from 'components/Notifications/notification';\nimport Switcher from 'components/buttons/switcher';\nimport Status from 'components/wsStatus/wsStatus';\n\n//const ws = connectSocket();\nclass Chat extends Component {\n  constructor() {\n    super();\n    this.state = {\n      messages: []\n    };\n    this.messages = [];\n    this.mounted = false;\n    this.name = store.getState().login;\n    this.ws = connectSocket();\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    const div = document.getElementById('messages-area');\n    setTimeout(() => {\n      div.scrollTo({ top: div.scrollHeight - div.clientHeight, behavior: 'instant' });\n    }, 1500);\n  }\n\n  componentWillUnmount() {\n    this.setState(null);\n    this.mounted = false;\n    this.messages = [];\n  }\n\n  submitClickHandler() {\n    const mess = {\n      from: this.name,\n      message: replaceSmileWithUnicode($('#inputChat').html())\n    };\n    this.ws.emit(JSON.stringify(mess));\n    $('#inputChat').text('');\n  }\n\n  render() {\n    return (\n      <div\n        className=\"row chat-page justify-content-center align-items-center\"\n        onClick={() => store.dispatch({ type: 'activeInput', value: false })}\n        role=\"button\"\n        onKeyPress={undefined}\n        tabIndex=\"-1\"\n      >\n        <div className=\"switcher\">\n          <Switcher ignore={this.props.switch} />\n          <Status status={this.props.status} />\n        </div>\n        <div className=\"row chat-page-messages\">\n          <div id=\"messages-area\" className=\"messages-wrapper\">\n            {this.props.messages.map(item => {\n              if (item && item.message) {\n                if (item.message.match(/:\\w+:/gm)) {\n                  return <SmileChatItem key={item.id} login={this.name} messagePack={item} />;\n                }\n                return <TextChatItem key={item.id} login={this.name} messagePack={item} />;\n              }\n            })}\n          </div>\n        </div>\n        <ChatInput submitClickHandler={() => {\n          if (this.props.status === 1) {\n            this.submitClickHandler();\n          }\n        }\n        } />\n        <Notifications />\n      </div>\n    );\n  }\n}\n\nChat.propTypes = {\n  status: PropTypes.number.isRequired,\n  messages: PropTypes.array.isRequired,\n  switch: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]).isRequired\n};\n\nconst mapStateToProps = state => ({ status: state.status, messages: state.messages, switch: state.switch });\nexport default connect(mapStateToProps)(Chat);\n","import BrowserWebSocket from 'browser-websocket';\nimport store from 'store/store';\n\nexport default function connectSocket() {\n  const ws = new BrowserWebSocket('ws://st-chat.shas.tel');\n  ws.on('open', () => {\n    setTimeout(() => {\n      console.log('open', ws.ws.readyState);\n      store.dispatch({ type: 'status', value: ws.ws.readyState });\n    }, 300);\n  });\n  ws.on('close', () => {\n    console.log('connection closed', ws.ws.readyState, 'reconnecting');\n    store.dispatch({ type: 'status', value: ws.ws.readyState });\n    ws.reconnect();\n  })\n  ws.on('message', event => {\n    const mes = JSON.parse(event.data).splice(0, 100).reverse();\n    if (mes.length === 1) {\n      const newMes = `${mes[0].from}: ${mes[0].message}`;\n      store.dispatch({ type: 'newMessage', value: newMes });\n    }\n    store.dispatch({ type: 'messages', value: mes });\n    const div = document.getElementById('messages-area');\n    setTimeout(() => {\n      div.scrollTo({ top: div.scrollHeight - div.clientHeight, behavior: 'smooth' });\n    }, 50);\n  });\n  return ws;\n}","import React, { Component } from 'react';\nimport { HashRouter as Router, Route } from 'react-router-dom';\nimport Header from 'components/header/header';\nimport MainPage from 'containers/mainPage/mainPage';\nimport Footer from 'components/footer';\nimport Chat from 'containers/chatPage/chatPage';\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"container-fluid\">\n          <Header />\n          <Route path=\"/\" exact component={MainPage} />\n          <Route path=\"/chat\" component={Chat} />\n          {/* <Route\n            path=\"/commonpage\"\n            render={props => <CommonPage onButtonClick={this.onButtonClick} />}\n            exact\n          />\n          <Route\n            path=\"/personalpage\"\n            render={props => <PersonalPage person={this.state.person} />}\n            exact\n          /> */}\n          <Footer />\n        </div>\n      </Router>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport 'index.css';\nimport App from 'app';\nimport store from './store/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}