{"version":3,"sources":["assets/sound.mp3","assets/chat.png","components/Notifications/notif.js","components/Notifications/serviceWorker.js","theme/theme.js","components/buttons/loginButton.js","components/buttons/loginInput.js","components/account/account.js","components/header/header.js","containers/mainPage/mainPage.js","components/footer/index.js","components/functions/index.js","components/chatItems/textChatItem.js","components/chatItems/smileChatItem.js","components/buttons/iconButtons.js","components/ChatInput/ChatInput.js","components/functions/mySocket.js","components/buttons/switcher.js","components/wsStatus/wsStatus.js","containers/chatPage/chatPage.js","app.js","index.js","store/store.js"],"names":["module","exports","Notifications","props","state","ignore","this","notifyMe","setTimeout","setState","switch","$","window","blur","activeWindow","focus","prop","newMessage","oldMes","localStorage","getItem","newProp","setItem","notificationSend","undefined","Notification","permission","message","now","Date","title","options","tag","body","icon","lang","dir","sound","document","visibilityState","test","navigator","userAgent","requestPermission","result","serviceWorker","ready","then","registration","showNotification","catch","err","global","console","log","notification","onclick","event","preventDefault","close","store","dispatch","type","value","playSound","alert","trigger","id","preload","src","hidden","autostart","loop","Component","connect","isLocalhost","Boolean","location","hostname","match","register","config","URL","process","href","origin","addEventListener","swUrl","fetch","response","contentType","headers","get","status","indexOf","unregister","reload","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","golden","success","fail","LoginButton","ThemeProvider","Button","variant","color","style","outline","onClick","showInputOnClick","CssTextField","withStyles","root","borderBottomColor","borderColor","TextField","useStyles","makeStyles","position","iconHover","cursor","top","right","LoginInput","name","classes","React","useState","values","setValues","label","onChange","target","onKeyPress","e","which","keyCode","key","getInputLogin","margin","backgroundColor","Icon","className","StyledMenu","paper","border","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","MenuItem","Account","anchorEl","setAnchorEl","aria-controls","aria-haspopup","currentTarget","marginRight","keepMounted","open","onClose","editNameHandler","ListItemIcon","ListItemText","to","logOutHandler","Header","active","isLoggedIn","login","val","length","hasClass","activeInput","inputOnChange","logOutOnClick","showInput","chat","alt","accountButton","input","MainPage","inputActive","role","tabIndex","onClickHandler","Footer","getDate","time","data","day","month","getMonth","hour","getHours","minutes","getMinutes","getFullYear","makeSRC","code","findSmile","text","before","after","str","split","unicode","push","replaceSmileWithUnicode","replaced","replace","makeEmojiFromUnicode","img","Image","html","sel","range","getSelection","getRangeAt","rangeCount","deleteContents","createElement","innerHTML","lastNode","frag","createDocumentFragment","appendChild","insertNode","cloneRange","setStartAfter","collapse","removeAllRanges","addRange","selection","createRange","pasteHTML","pasteHtmlAtCaret","TextChatItem","messagePack","from","SmileChatItem","map","mes","m","width","height","MyIconButton","IconButton","ChatInput","handleChange","evt","emoji","attachment","mounted","toggleAttachBlock","contentEditable","aria-multiline","is","selectNodeContents","setEndAfter","submitClickHandler","onMouseEnter","showSmilesOnHover","onMouseLeave","hideSmilesOnMouseLeave","nonce","messages","CustomSwitch","switchBase","checked","track","Switch","Switcher","FormControlLabel","control","Status","Chat","getState","ws","BrowserWebSocket","on","readyState","reconnect","JSON","parse","splice","reverse","newMes","div","getElementById","scrollTo","scrollHeight","clientHeight","behavior","connectSocket","mess","emit","stringify","item","App","exact","path","redirect","component","vh","innerHeight","documentElement","setProperty","ReactDOM","render","switchOption","initialState","mesAll","createStore","action","Object","assign"],"mappings":"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","file":"static/js/main.07f9e3dd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sound.13620510.mp3\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABrVBMVEVHcEyZZpmNbaD/AP+NbJ+NbZ+Kbp+NbJ+NbZ+AgKqObJ+NbJ6NbJ+NbJ+NbJ+LbaCQcKGQcqSQcaOZZpmAgICYg6+NbJ+MbJ+Oa6CRcKGObqCNbaCOb6GOaKGPcKOJbZuObKCNbJ+Kap+MbaCNbJ+NbKCNbZ+MbZ+NbJ+NbZ+VapWqVaqObJ+ObZ+OcZyMbKCNbKCMbKCZeKGNbKCNbJ+NbJ/CzefO2e2st9D5467qzZjI0+rEz+iUfqvN2O3k6vSag7DV3u/M1+2chrKZgrDi6POchLHa4/Hfx6rS2+7j6fTDzufv1aCZg7D44azDzujU3O3e5PKXdp7P2u2bhbGzvtelpcSUfKqorsr54q7exqrq06yig6Hsz5rU3O7a4vHS3e/T3O3X4PDV3e7X3/DrzpmahLDny5jrzpq5mZzR3O62t9a4mpyst8++yuSuudGtuNHAy+WtudGuuNG9vdqjosKhnb+PcaKlp8Wqss2QdKSnq8mSeaiWhK6Xg66psMuTfamsttCPcKKqtM2pi6Ogm76niKO1maWVdKDmz6uObp/hyaqjhKL03a3ZwKq6p+DbAAAANXRSTlMABW4BwLwl5YgGh4nm6dRLqFz1CgK9wc8rff3J/Rv+HOTiGFvu2496+soMAy3+ErvTdvzz8XV3z8kAAAJrSURBVFjD7ZdVe9swFEBTtDNmZma+kWGZnSVNU9hKK60dMzNTx7zfPFlzHNvylSVvD3vofZBBOueTLFnfVS43Hf9F5GfOAqXQ9HxEoINy6BGBBjcK4rAJIXb9hpCHoEUEAGr8kcMASgKOLygIek4n8AqCnnNOF88rCC44Tvd5jrcVhtDVfZbnibzAJhcTeHlBwvdjt7ICjJcVoLykAOdxQYX/bdyCXfWu5RCPC1xecMwmZe96OcTLDEHQfymBmE8XpPAktjNxgjSexHYm4Sz8mYkoTwWWZZlmzd+ZhLPAZsLjzzR42xeY/reIDiHW/6N+/0tOKeALIgHGdzgdpTovEiB8p+NFp8+jgv4+hA/1gNUign5nYAjhg2/AajFB38B1lKejaPCYwB4S8CTEIwJ0/ByfKKicoC1c11tNZXpX9f5/9q5arhestuIiAgC2wtimzxar/44Ehe2/SxLcG74PYBiGVHF3+DYneGAYxaIhXdzhBIZixAQajKjxIzAYEYRSnNFbrMXbYkqKcy0iyOtaUDPGBB/F+ODNK5Z1qSFoxAJ44fFj72BjsF9aSPQmCBatgGeUfz8KbS1pglPHEwTL4Anl30zB+g05seBqr8dzgmZ4ZRiPnsO69tCWbwoiLlgKj5++Bli5NpdNMBfgJcCq5U2RJLSG87VYwjmHztCaxauFafCHcQqOf6o/zog0bp09b/7CeCIeWiMsTlLBBJJ0S8QW+EwF32F71pNB+7bdtAtfYV/ms4UOBybMn98OtmQVNLXCl1/mJOzK3IUdewF+TMLW7AeknfsP0QnY/DdnrD3NbZuWTB81/2X8BlOCJK5wgIZZAAAAAElFTkSuQmCC\"","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport * as serviceWorker from 'components/Notifications/serviceWorker';\nimport sound from 'assets/sound.mp3';\nimport $ from 'jquery';\nimport store from 'store/store';\n\nclass Notifications extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ignore: false\n    }\n  }\n\n  componentDidMount() {\n    this.notifyMe();\n    setTimeout(() => {\n      this.setState({ ignore: this.props.switch ? false : true });\n    }, 100);\n    $(window).blur(() => {\n      this.setState({ activeWindow: false });\n    })\n    $(window).focus(() => {\n      this.setState({ activeWindow: true });\n    })\n  }\n\n  componentWillReceiveProps() {\n    setTimeout(() => {\n      const prop = this.props.newMessage;\n      const oldMes = localStorage.getItem('newMes');\n      if (prop !== oldMes || oldMes === 'undefined') {\n        this.setState({ newProp: prop })\n        localStorage.setItem('newMes', prop)\n        if (this.state.ignore === false) {\n          this.notificationSend(prop)\n        }\n      }\n    }, 200);\n    setTimeout(() => {\n      if (this.props.switch !== undefined) {\n        this.setState({ ignore: this.props.switch ? false : true });\n        if (this.props.switch === true) {\n          if (Notification.permission === 'denied' || Notification.permission === 'default') {\n            this.notifyMe()\n          }\n        }\n      }\n    }, 200);\n  }\n\n  notificationSend(message) {\n    const now = Date.now();\n    const title = `New message at Awesome Chat ${now}`;\n    const body = `Message: ${message || '...'}`;\n    const tag = now;\n    const icon = 'http://mobilusoss.github.io/react-web-notification/example/Notifications_button_24.png';\n    const options = {\n      tag: tag,\n      body: body,\n      icon: icon,\n      lang: 'en',\n      dir: 'ltr',\n      sound: sound\n    }\n    this.setState({\n      title: title,\n      options: options\n    });\n    if ('Notification' in window && document.visibilityState !== 'visible') {\n      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n        Notification.requestPermission((result) => {\n          if (result === 'granted') {\n            navigator.serviceWorker.ready.then((registration) => {\n              registration.showNotification(this.state.title, options);\n            }).catch((err) => global.console.log(err));\n          }\n        });\n      } else {\n        this.notification = new Notification(this.state.title, options);\n        this.notification.onclick = (event) => {\n          event.preventDefault();\n          window.focus();\n          this.notification.close();\n          store.dispatch({ type: 'redirect', value: true });\n        };\n        setTimeout(() => {\n          this.notification.close();\n        }, 2000);\n      }\n      setTimeout(() => {\n        this.playSound();\n      }, 500);\n    }\n  }\n\n  notifyMe() {\n    serviceWorker.register();\n    if (!('Notification' in window)) {\n      global.alert('This browser does not support desktop notification');\n    } else if (Notification.permission === 'granted' || Notification.permission === 'default') {\n      Notification.requestPermission((permission) => {\n        if (permission === 'granted') {\n          navigator.serviceWorker.ready.then((registration) => {\n            registration.showNotification('notification permissions have been granted');\n          }).catch((err) => global.console.log(err));\n        }\n      });\n    } else if (Notification.permission === 'denied' && this.props.switch === true) {\n      global.alert(`You blocked notification request :( \n    If you want to receive notifications you should unblock it in the browser settings`)\n      store.dispatch({ type: 'switch', value: false });\n    }\n  }\n\n  playSound() {\n    if (Notification.permission === 'granted') {\n      $('#sound').trigger('play');\n    }\n  }\n\n  render() {\n    return (\n      <audio id='sound' preload='auto'>\n        <source src={sound} type='audio/mpeg' />\n        <embed hidden={true} autostart='false' loop={false} src={sound} />\n      </audio>\n    );\n  }\n}\n\nNotifications.propTypes = {\n  newMessage: PropTypes.string.isRequired,\n  switch: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]).isRequired\n};\n\nconst mapStateToProps = state => ({ newMessage: state.newMessage, switch: state.switch });\nexport default connect(mapStateToProps)(Notifications);","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n  // [::1] is the IPv6 localhost address.\n  || window.location.hostname === '[::1]'\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  || window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n  ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n            + 'worker. To learn more, visit http://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                + 'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#e7f2ff', // light\n      main: '#b4bff1',\n      dark: '#838fbe',\n      contrastText: '#292733'\n    },\n    secondary: {\n      light: '#524f5c', // dark\n      main: '#454153',\n      dark: '#292733',\n      contrastText: '#fce8c5'\n    },\n    golden: {\n      light: '#ffffc5',\n      main: '#fad694',\n      dark: '#c6a565',\n      contrastText: '#292733'\n    },\n    success: {\n      light: '#e6ffe6',\n      main: '#2ac92a',\n      dark: '#288028',\n    },\n    fail: {\n      light: '#fff7f5',\n      main: '#f54922',\n      dark: '#b53c21'\n    }\n  }\n});\n\nexport default theme;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\nimport theme from 'theme/theme';\n\nexport default function LoginButton(props) {\n  return (\n    <ThemeProvider theme={theme}>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        style={{ outline: 'none' }}\n        onClick={props.showInputOnClick}\n      >\n        Log In\n      </Button>\n    </ThemeProvider>\n  );\n}\n\nLoginButton.propTypes = {\n  showInputOnClick: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Icon from '@material-ui/core/Icon';\nimport theme from 'theme/theme';\n\nconst CssTextField = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: theme.palette.primary.contrastText\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: theme.palette.secondary.dark\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: theme.palette.primary.dark,\n        color: theme.palette.primary.contrastText\n      },\n      '&:hover fieldset': {\n        borderColor: theme.palette.secondary.dark\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: theme.palette.secondary.dark\n      }\n    }\n  }\n})(TextField);\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    position: 'absolute'\n  },\n  iconHover: {\n    cursor: 'pointer',\n    position: 'absolute',\n    top: '31px',\n    right: '5px',\n    color: theme.palette.primary.dark,\n    '&:hover': {\n      color: theme.palette.secondary.light\n    },\n    '&:active': {\n      color: theme.palette.secondary.dark\n    }\n  }\n}));\n\nexport default function LoginInput(props) {\n  const classes = useStyles();\n\n  const [values, setValues] = React.useState({\n    name: ''\n  });\n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value });\n  };\n\n  return (\n    <form>\n      <CssTextField\n        id=\"inputLogin\"\n        label=\"Name\"\n        value={values.name}\n        onChange={handleChange('name')}\n        onKeyPress={e => {\n          if (e.which === 13 || e.keyCode === 13 || e.key === 'enter') {\n            props.getInputLogin();\n          }\n        }}\n        margin=\"normal\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: theme.palette.primary.light\n        }}\n      />\n      <Icon className={classes.iconHover} onClick={props.getInputLogin}>\n        send\n      </Icon>\n    </form>\n  );\n}\n\nLoginInput.propTypes = {\n  getInputLogin: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport LogOut from '@material-ui/icons/PowerOff';\nimport EditIcon from '@material-ui/icons/Edit';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport theme from 'theme/theme';\nimport 'components/account/account.scss';\nimport store from 'store/store';\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: `1px solid ${theme.palette.secondary.light}`,\n    backgroundColor: theme.palette.primary.light,\n    color: theme.palette.primary.contrastText\n  }\n})(props => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center'\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'center'\n    }}\n    {...props}\n  />\n));\n\nconst StyledMenuItem = withStyles(() => ({\n  root: {\n    '&:focus': {\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.primary.contrastText\n      }\n    }\n  }\n}))(MenuItem);\n\nexport default function Account(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose() {\n    setAnchorEl(null);\n  }\n\n  return (\n    <div>\n      <ThemeProvider theme={theme}>\n        <Button\n          aria-controls=\"customized-menu\"\n          aria-haspopup=\"true\"\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={handleClick}\n          style={{ outline: 'none' }}\n        >\n          {props.name}\n          <ArrowDropDownIcon style={{ marginRight: '-10px' }} />\n        </Button>\n        <StyledMenu\n          id=\"customized-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          <StyledMenuItem\n            onClick={() => {\n              setAnchorEl(null);\n              props.editNameHandler();\n            }}\n          // onBlur={() => store.dispatch({ type: 'activeInput', value: false })}\n          >\n            <ListItemIcon>\n              <EditIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Change Name\" />\n          </StyledMenuItem>\n          <StyledMenuItem\n            onClick={() => {\n              setAnchorEl(null);\n              store.dispatch({ type: 'redirect', value: true })\n            }}\n          >\n            <ListItemIcon>\n              <ChatIcon />\n            </ListItemIcon>\n            <Link to=\"/chat\" className=\"menu-links\">\n              <ListItemText primary=\"Join Chat\" />\n            </Link>\n          </StyledMenuItem>\n          <StyledMenuItem\n            onClick={() => {\n              setAnchorEl(null);\n              props.logOutHandler();\n            }}\n          >\n            <ListItemIcon>\n              <LogOut />\n            </ListItemIcon>\n            <Link to=\"/\" className=\"menu-links\">\n              <ListItemText primary=\"Log Out\" />\n            </Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </ThemeProvider>\n    </div>\n  );\n}\n\nAccount.propTypes = {\n  name: PropTypes.string.isRequired,\n  editNameHandler: PropTypes.func.isRequired,\n  logOutHandler: PropTypes.func.isRequired\n};\n","/* eslint-disable consistent-return */\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport $ from 'jquery';\nimport './header.scss';\nimport chat from 'assets/chat.png';\nimport LoginButton from 'components/buttons/loginButton';\nimport LoginInput from 'components/buttons/loginInput';\nimport Account from 'components/account/account';\nimport store from 'store/store';\n\nclass Header extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      active: false,\n      isLoggedIn: false,\n      error: false\n    };\n  }\n\n  componentWillMount() {\n    this.setState({ name: this.props.login, isLoggedIn: this.props.login !== 'Guest' ? true : false });\n  }\n\n  showInput() {\n    if (this.state.active) {\n      this.setState({ active: false });\n      store.dispatch({ type: 'activeInput', value: false });\n    } else {\n      this.setState({ active: true });\n      store.dispatch({ type: 'activeInput', value: true });\n    }\n  }\n\n  inputOnChange() {\n    const name = $('#inputLogin').val();\n    if (name && name.length <= 20) {\n      store.dispatch({ type: 'login', value: name });\n      store.dispatch({ type: 'redirect', value: true });\n      store.dispatch({ type: 'activeInput', value: false });\n      this.setState({ active: false, isLoggedIn: true, name, error: false });\n      return <Redirect to=\"/chat\" />\n    } else {\n      this.setState({ error: true });\n      setTimeout(() => {\n        if ($('.input-error') && !$('.input-error').hasClass('hidden')) {\n          this.setState({ error: false });\n        }\n      }, 5000);\n    }\n  }\n\n  input() {\n    if (this.props.activeInput) {\n      return (\n        <div id=\"changeNameInput\" className=\"login-input-block\">\n          <LoginInput getInputLogin={e => this.inputOnChange(e)} />\n        </div>);\n    }\n  }\n\n  logOutOnClick() {\n    store.dispatch({ type: 'login', value: 'Guest' });\n    this.setState({ isLoggedIn: false });\n  }\n\n  accountButton() {\n    if (this.state.isLoggedIn) {\n      return (\n        <Account\n          name={this.state.name}\n          editNameHandler={() => store.dispatch({ type: 'activeInput', value: true })}\n          logOutHandler={() => this.logOutOnClick()}\n        />\n      );\n    }\n    return <LoginButton showInputOnClick={() => this.showInput()} />;\n  }\n\n  render() {\n    return (\n      <div className=\"row header justify-content-between align-items-center\">\n        <Link\n          className=\"col-auto icon-block\"\n          to=\"/\"\n          onClick={() => {\n            store.dispatch({ type: 'redirect', value: false });\n          }}\n        >\n          <img className=\"header-img d-none d-sm-block\" src={chat} alt=\"\" />\n          <h5 className=\"icon-name\">Awesome Chat</h5>\n        </Link>\n        <div className=\"col-auto account-button\">{this.accountButton()}</div>\n        <span className={`text-danger input-error ${this.state.error ? '' : 'hidden'}`}>\n          Input name (max 20 symbols)\n        </span>\n        {this.input()}\n      </div>\n    );\n  }\n}\n\nHeader.propTypes = {\n  login: PropTypes.string.isRequired,\n  activeInput: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({ login: state.login, activeInput: state.activeInput });\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport 'containers/mainPage/MainPage.scss';\nimport store from 'store/store';\n\nclass MainPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      inputActive: false\n    };\n  }\n\n  onClickHandler(e) {\n    if (this.props.login === 'Guest') {\n      if (this.state.inputActive === false) {\n        store.dispatch({ type: 'activeInput', value: true });\n        this.setState({ inputActive: true })\n        e.preventDefault();\n      } else {\n        store.dispatch({ type: 'activeInput', value: false });\n        this.setState({ inputActive: false })\n        e.preventDefault();\n      }\n    } else {\n      store.dispatch({ type: 'activeInput', value: false });\n      store.dispatch({ type: 'redirect', value: true });\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"row justify-content-center align-items-center mainPage\"\n        onClick={() => this.state.inputActive ? store.dispatch({ type: 'activeInput', value: false }) : null}\n        role=\"button\"\n        onKeyPress={undefined}\n        tabIndex=\"-1\"\n      >\n        <Link to=\"/chat\" onClick={e => this.onClickHandler(e)}>\n          <div className=\"smile-text text-monospace text-uppercase\">\n            <div className=\"circle\" />\n            <div className=\"circle-blink\">\n              <div className=\"shadow\" />\n              <div className=\"blinked\" />\n            </div>\n            <span className=\"char1\">J</span>\n            <span className=\"char2\">o</span>\n            <span className=\"char3\">i</span>\n            <span className=\"char4\">n</span>\n            <span className=\"char5\" />\n            <span className=\"char6\">o</span>\n            <span className=\"char7\">u</span>\n            <span className=\"char8\">r</span>\n            <span className=\"char9\" />\n            <span className=\"char10\">a</span>\n            <span className=\"char11\">w</span>\n            <span className=\"char12\">e</span>\n            <span className=\"char13\">s</span>\n            <span className=\"char14\">o</span>\n            <span className=\"char15\">m</span>\n            <span className=\"char16\">e</span>\n            <span className=\"char17\" />\n            <span className=\"char18\">c</span>\n            <span className=\"char19\">h</span>\n            <span className=\"char20\">a</span>\n            <span className=\"char21\">t</span>\n          </div>\n        </Link>\n      </div>\n    );\n  }\n}\n\nMainPage.propTypes = {\n  login: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({ login: state.login });\nexport default connect(mapStateToProps)(MainPage);\n","import React from 'react';\nimport 'components/footer/footer.scss';\n\nfunction Footer() {\n  return (\n    <div className=\"row align-items-center footer\">\n      <span className=\"rights text-wrap\">\n        © 2019 Aleksandra Skirnevskaia, Email for contacts\n        <a className=\"footer-mail font-weight-bold\" href=\"mailto:a.skirnevskaia@gmail.com\">\n          a.skirnevskaia@gmail.com\n        </a>\n      </span>\n    </div>\n  );\n}\n\nexport default Footer;\n","/* eslint-disable no-cond-assign */\n/* eslint-disable no-bitwise */\nimport $ from 'jquery';\n\nexport function makeRandomId() {\n  const j = [];\n  let x;\n  for (let i = 0; i < 20; i += 1) {\n    x = [[48, 57], [65, 90], [97, 122]][(Math.random() * 3) >> 0];\n    j[i] = String.fromCharCode(((Math.random() * (x[1] - x[0] + 1)) >> 0) + x[0]);\n  }\n  return j.join('');\n}\n\nexport function getDate(time) {\n  const data = new Date(time);\n  let day = data.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  let month = data.getMonth() + 1;\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  let hour = data.getHours();\n  if (hour < 10) {\n    hour = `0${hour}`;\n  }\n  let minutes = data.getMinutes();\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n  return `${hour}:${minutes} ${day}/${month}/${data.getFullYear()}`;\n}\n\nexport function makeSRC(code) {\n  return `./smiles/${code}.png`;\n}\n\nexport function findSmile(text) {\n  let before = text;\n  const after = [];\n  while (before.match(/:\\w+:/gm)) {\n    const str = before.match(/:\\w+:/gm)[0];\n    const message = before.split(str);\n    const unicode = str.split(':')[1];\n    after.push(message[0]);\n    after.push([unicode]);\n    if (!message[1].match(/:\\w+:/gm)) {\n      after.push(message[1]);\n      return after;\n    }\n    before = message[1];\n  }\n  return after;\n}\n\nexport function replaceSmileWithUnicode(text) {\n  let replaced = text;\n  while (replaced.indexOf('&nbsp;') !== -1) {\n    const str = replaced.replace('&nbsp;', ' ');\n    replaced = str;\n  }\n  while (replaced.indexOf('<br>') !== -1) {\n    const str = replaced.replace('<br>', '').replace('</br>', '');\n    replaced = str;\n  }\n  while (replaced.indexOf('<span') !== -1) {\n    const str = replaced\n      .replace('<span style=\"font-size: 1rem;\">', '').replace('</span>', '');\n    replaced = str;\n  }\n  while (replaced.indexOf('./smiles/') !== -1) {\n    const str = replaced\n      .replace('<img', '')\n      .replace('height=\"32\"', '')\n      .replace('width=\"32\"', '')\n      .replace('src=\"./smiles/', ':')\n      .replace('.png\"', ':')\n      .replace('>', '');\n    replaced = str;\n  }\n\n  return replaced;\n}\n\nfunction pasteHtmlAtCaret(html) {\n  let sel;\n  let range;\n  if (window.getSelection) {\n    sel = window.getSelection();\n    if (sel.getRangeAt && sel.rangeCount) {\n      range = sel.getRangeAt(0);\n      range.deleteContents();\n      const el = document.createElement('div');\n      el.innerHTML = html;\n      const frag = document.createDocumentFragment();\n      let lastNode;\n      lastNode = frag.appendChild(html);\n      range.insertNode(frag);\n      if (lastNode) {\n        range = range.cloneRange();\n        range.setStartAfter(html);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    }\n  } else if (document.selection && document.selection.type !== 'Control') {\n    document.selection.createRange().pasteHTML(html);\n  }\n}\n\nexport function makeEmojiFromUnicode(event) {\n  const img = new Image(32, 32);\n  img.src = makeSRC(event.unicode);\n  $('#inputChat').focus();\n  pasteHtmlAtCaret(img);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport 'components/chatItems/chatItems.scss';\nimport { getDate } from 'components/functions';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from 'theme/theme';\n\nfunction TextChatItem(props) {\n  const login = props.login;\n  const messagePack = props.messagePack;\n  if (messagePack.from === login) {\n    return (\n      <ThemeProvider theme={theme}>\n        <div className=\"row chat-page-item justify-content-end\">\n          <div className=\"my-message\">\n            <div className=\"col-auto my-message-wrapper\">\n              <div className=\"col-auto chat-item-from\">{messagePack.from}</div>\n              <div className=\"col-auto chat-item-message\">{messagePack.message}</div>\n              <div className=\"col-auto chat-item-date\">{getDate(messagePack.time)}</div>\n            </div>\n          </div>\n        </div>\n      </ThemeProvider>\n    );\n  }\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"row chat-page-item justify-content-start\">\n        <div className=\"their-message\">\n          <div className=\"col-auto their-message-wrapper\">\n            <div className=\"col-auto chat-item-from\">{messagePack.from}</div>\n            <div className=\"w-100\" />\n            <div className=\"col-auto chat-item-message\">{messagePack.message}</div>\n            <div className=\"w-100\" />\n            <div className=\"col-auto chat-item-date\">{getDate(messagePack.time)}</div>\n          </div>\n        </div>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nTextChatItem.propTypes = {\n  login: PropTypes.string.isRequired,\n  messagePack: PropTypes.instanceOf(Object).isRequired\n};\n\nexport default TextChatItem;\n","/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport 'components/chatItems/chatItems.scss';\nimport { getDate, findSmile, makeSRC } from 'components/functions';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from 'theme/theme';\n\nfunction SmileChatItem(props) {\n  const login = props.login;\n  const messagePack = props.messagePack;\n  if (messagePack.from === login) {\n    return (\n      <ThemeProvider theme={theme}>\n        <div className=\"row chat-page-item justify-content-end\">\n          <div className=\"my-message\">\n            <div className=\"col-auto my-message-wrapper\">\n              <div className=\"col-auto chat-item-from\">{messagePack.from}</div>\n              <div className=\"col-auto chat-item-message\">\n                {findSmile(messagePack.message).map((mes, m) => {\n                  if (typeof mes === 'string') {\n                    return <span key={m}>{mes}</span>;\n                  }\n                  return <img key={m} width=\"32\" height=\"32\" src={makeSRC(mes[0])} alt={mes[0]} />;\n                })}\n              </div>\n              <div className=\"col-auto chat-item-date\">{getDate(messagePack.time)}</div>\n            </div>\n          </div>\n        </div>\n      </ThemeProvider>\n    );\n  }\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"row chat-page-item justify-content-start\">\n        <div className=\"their-message\">\n          <div className=\"col-auto their-message-wrapper\">\n            <div className=\"col-auto chat-item-from\">{messagePack.from}</div>\n            <div className=\"col-auto chat-item-message\">\n              {findSmile(messagePack.message).map((mes, m) => {\n                if (typeof mes === 'string') {\n                  return <span key={m}>{mes}</span>;\n                }\n                return <img key={m} width=\"32\" height=\"32\" src={makeSRC(mes[0])} alt={mes[0]} />;\n              })}\n            </div>\n            <div className=\"col-auto chat-item-date\">{getDate(messagePack.time)}</div>\n          </div>\n        </div>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nSmileChatItem.propTypes = {\n  login: PropTypes.string.isRequired,\n  messagePack: PropTypes.instanceOf(Object).isRequired\n};\n\nexport default SmileChatItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport theme from 'theme/theme';\n\nexport default function MyIconButton(props) {\n  const useStyles = makeStyles(() => ({\n    root: {\n      position: 'absolute'\n    },\n    iconHover: {\n      color: theme.palette[props.theme]['main'],\n      '&:hover': {\n        color: theme.palette[props.theme]['light']\n      },\n      '&:active': {\n        color: theme.palette[props.theme]['dark']\n      }\n    }\n  }));\n  const classes = useStyles();\n  return (\n    <ThemeProvider theme={theme}>\n      <IconButton\n        variant=\"contained\"\n        className={classes.iconHover}\n        style={{ outline: 'none' }}\n        onClick={props.onClickHandler}\n      >\n        {props.icon}\n      </IconButton>\n    </ThemeProvider>\n  );\n}\n\nMyIconButton.propTypes = {\n  onClickHandler: PropTypes.func.isRequired,\n  theme: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport $ from 'jquery';\nimport EmojiPicker from 'emojione-picker';\nimport 'emojione-picker/css/picker.css';\nimport { makeEmojiFromUnicode } from 'components/functions';\nimport 'components/ChatInput/chatInput.scss';\nimport MyIconButton from 'components/buttons/iconButtons';\nimport Icon from '@material-ui/core/Icon';\n\nclass ChatInput extends Component {\n  constructor() {\n    super();\n    this.state = {\n      emoji: false,\n      html: '',\n      attachment: false\n    };\n    this.mounted = false;\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.setState(null);\n    this.mounted = false;\n  }\n\n  showSmilesOnHover() {\n    this.setState({ emoji: true });\n  }\n\n  hideSmilesOnMouseLeave() {\n    this.setState({ emoji: false });\n  }\n\n  toggleAttachBlock() {\n    if (this.state.attachment) {\n      this.setState({ attachment: false });\n    } else {\n      this.setState({ attachment: true });\n    }\n  }\n\n  handleChange = evt => {\n    this.setState({ html: evt.target.value });\n  };\n\n  render() {\n    return (\n      <div className=\"row chat-page-form justify-content-center align-items-center\">\n        <div className=\"input-area row justify-content-center align-items-center\">\n          <div className=\"media-selector\">\n            <MyIconButton\n              onClickHandler={() => this.toggleAttachBlock()}\n              theme=\"secondary\"\n              icon={<Icon>attach_file</Icon>}\n            />\n            <div className={`media-selector-info ${this.state.attachment ? '' : 'hidden'}`}>\n              Does not work yet\n            </div>\n          </div>\n          <span\n            id=\"inputChat\"\n            className=\"input-text-area row align-items-center\"\n            html={this.state.html}\n            onChange={this.handleChange}\n            contentEditable=\"true\"\n            aria-multiline=\"true\"\n            role=\"textbox\"\n            // role=\"button\"\n            tabIndex=\"-1\"\n            onClick={e => {\n              if ($(e.target).is('img')) {\n                var range = document.createRange();\n                $(e.target).focus();\n                range.selectNodeContents(e.target);\n                range.collapse(true);\n                range.setEndAfter(e.target);\n                var sel = window.getSelection();\n                sel.removeAllRanges();\n                sel.addRange(range);\n                $(\"#inputChat\").focus();\n                return false;\n              }\n            }}\n            onKeyPress={e => {\n              if (e.key === 'Enter' || e.which === 13 || e.keyCode === 13) {\n                e.preventDefault();\n                this.props.submitClickHandler();\n              }\n            }}\n          />\n          <div className=\"chat-buttons\">\n            <div\n              id=\"emoji-block\"\n              className=\"emoji-block\"\n              onMouseEnter={() => this.showSmilesOnHover()}\n              onMouseLeave={() => this.hideSmilesOnMouseLeave()}\n            >\n              <MyIconButton\n                onClickHandler={() => this.showSmilesOnHover()}\n                theme=\"secondary\"\n                icon={<Icon>emoji_emotions</Icon>}\n              />\n              <div className={`${this.state.emoji ? 'smile-block' : 'hidden'}`}>\n                <EmojiPicker\n                  id=\"emoji-box\"\n                  className=\"emoji-picker\"\n                  nonce=\"NONCE_GENERATED_WHEN_TRANSMITTING\"\n                  onChange={e => {\n                    this.setState({ html: makeEmojiFromUnicode(e) });\n                  }}\n                />\n              </div>\n            </div>\n            <div className=\"send-button\">\n              <MyIconButton\n                onClickHandler={() => this.props.submitClickHandler()}\n                theme=\"secondary\"\n                icon={<Icon>send</Icon>}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nChatInput.propTypes = {\n  submitClickHandler: PropTypes.func.isRequired\n};\n\nexport default ChatInput;\n","import BrowserWebSocket from 'browser-websocket';\r\nimport store from 'store/store';\r\n\r\nlet messages = [];\r\n\r\nexport default function connectSocket() {\r\n  // const ws = new BrowserWebSocket('ws://st-chat.shas.tel');\r\n  // const ws = new BrowserWebSocket('wss://wssproxy.herokuapp.com/');\r\n  const ws = new BrowserWebSocket('wss://awesome-chat-ws.herokuapp.com/');\r\n  // const ws = new BrowserWebSocket('ws://localhost:3000');\r\n\r\n  ws.on('open', () => {\r\n    setTimeout(() => {\r\n      console.log('open', ws.ws.readyState);\r\n      store.dispatch({ type: 'status', value: ws.ws.readyState });\r\n    }, 300);\r\n  });\r\n  ws.on('close', () => {\r\n    console.log('connection closed', ws.ws.readyState, 'reconnecting');\r\n    store.dispatch({ type: 'status', value: ws.ws.readyState });\r\n    ws.reconnect();\r\n  })\r\n  ws.on('message', event => {\r\n    const mes = JSON.parse(event.data).splice(0, 100).reverse();\r\n    if (mes.length === 1) {\r\n      const newMes = `${mes[0].from}: ${mes[0].message}`;\r\n      messages.push(mes[0])\r\n      store.dispatch({ type: 'newMessage', value: newMes });\r\n      store.dispatch({ type: 'messages', value: mes });\r\n    } else {\r\n      if (messages.length === 0) {\r\n        messages = mes;\r\n        store.dispatch({ type: 'messages', value: mes });\r\n      }\r\n    }\r\n\r\n\r\n\r\n    const div = document.getElementById('messages-area');\r\n    if (div) {\r\n      setTimeout(() => {\r\n        div.scrollTo({ top: div.scrollHeight - div.clientHeight, behavior: 'smooth' });\r\n      }, 50);\r\n    }\r\n  });\r\n  return ws;\r\n}","import React from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport theme from 'theme/theme';\nimport { withStyles } from '@material-ui/core/styles';\nimport store from 'store/store';\n\nconst CustomSwitch = withStyles({\n  switchBase: {\n    color: theme.palette.golden.dark,\n    '&$checked': {\n      color: theme.palette.primary.main,\n    },\n    '&$checked + $track': {\n      backgroundColor: theme.palette.primary.dark,\n    },\n  },\n  checked: {},\n  track: {},\n})(Switch);\n\nexport default function Switcher(props) {\n  const [state, setState] = React.useState({\n    checked: props.ignore,\n  });\n\n  const handleChange = name => event => {\n    setState({ ...state, [name]: event.target.checked });\n    store.dispatch({ type: 'switch', value: event.target.checked });\n  };\n\n  return (\n    <FormControlLabel\n      control={\n        <CustomSwitch\n          checked={state.checked}\n          onChange={handleChange('checked')}\n          value=\"checked\"\n        />\n      }\n      label=\"Notifications\"\n    />\n  );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MyIconButton from 'components/buttons/iconButtons';\nimport Icon from '@material-ui/core/Icon';\nimport SignalCellularConnectedNoInternet0BarIcon from '@material-ui/icons/SignalCellularConnectedNoInternet0Bar';\n\nexport default function Status(props) {\n  return (\n    <div className=\"status-block\">\n      {props.status === 1 ?\n        <MyIconButton\n          onClickHandler={() => undefined}\n          theme=\"success\"\n          icon={<Icon>checkIcon</Icon>}\n        /> :\n        <><span>reconnecting</span>\n          <MyIconButton\n            onClickHandler={() => undefined}\n            theme=\"fail\"\n            icon={<SignalCellularConnectedNoInternet0BarIcon />}\n          />\n        </>\n      }\n    </div>\n  );\n}\n\nStatus.propTypes = {\n  status: PropTypes.number.isRequired\n};\n","/* eslint-disable consistent-return */\n/* eslint-disable array-callback-return */\n/* eslint-disable class-methods-use-this */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport 'emojione-picker/css/picker.css';\nimport $ from 'jquery';\nimport store from 'store/store';\nimport { replaceSmileWithUnicode } from 'components/functions';\nimport 'containers/chatPage/chatPage.scss';\nimport TextChatItem from 'components/chatItems/textChatItem';\nimport SmileChatItem from 'components/chatItems/smileChatItem';\nimport ChatInput from 'components/ChatInput/ChatInput';\nimport connectSocket from 'components/functions/mySocket';\nimport Switcher from 'components/buttons/switcher';\nimport Status from 'components/wsStatus/wsStatus';\n\n//const ws = connectSocket();\nclass Chat extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.mounted = false;\n    this.name = store.getState().login;\n    this.ws = connectSocket();\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    const div = document.getElementById('messages-area');\n    setTimeout(() => {\n      if (div) {\n        div.scrollTo({ top: div.scrollHeight - div.clientHeight, behavior: 'instant' });\n      }\n    }, 1500);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  submitClickHandler() {\n    const mess = {\n      from: this.name,\n      message: replaceSmileWithUnicode($('#inputChat').html())\n    };\n    this.ws.emit(JSON.stringify(mess));\n    $('#inputChat').text('');\n  }\n\n  render() {\n    return (\n      <div\n        className=\"row chat-page justify-content-center align-items-center\"\n        onClick={() => store.dispatch({ type: 'activeInput', value: false })}\n        role=\"button\"\n        onKeyPress={undefined}\n        tabIndex=\"-1\"\n      >\n        <div className=\"switcher\">\n          <Switcher ignore={this.props.switch} />\n          <Status status={this.props.status} />\n        </div>\n        <div className=\"row chat-page-messages\">\n          <div id=\"messages-area\" className=\"messages-wrapper\">\n            {this.props.messages.map(item => {\n              if (item && item.message) {\n                if (item.message.match(/:\\w+:/gm)) {\n                  return <SmileChatItem key={item.id} login={this.name} messagePack={item} />;\n                }\n                return <TextChatItem key={item.id} login={this.name} messagePack={item} />;\n              }\n            })}\n          </div>\n        </div>\n        <ChatInput submitClickHandler={() => {\n          if (this.props.status === 1) {\n            this.submitClickHandler();\n          }\n        }\n        } />\n      </div>\n    );\n  }\n}\n\nChat.propTypes = {\n  status: PropTypes.number.isRequired,\n  messages: PropTypes.array.isRequired,\n  switch: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]).isRequired\n};\n\nconst mapStateToProps = state => ({ status: state.status, messages: state.messages, switch: state.switch });\nexport default connect(mapStateToProps)(Chat);\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from 'components/header/header';\nimport MainPage from 'containers/mainPage/mainPage';\nimport Footer from 'components/footer';\nimport Chat from 'containers/chatPage/chatPage';\nimport store from 'store/store';\nimport $ from 'jquery';\nimport Notifications from 'components/Notifications/notif';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"container-fluid\" onClick={(e) => {\n          const input = $('#changeNameInput');\n          if ($(e.target).is('.container-fluid') || $(e.target).is('.header')) {\n            if (input) {\n              store.dispatch({ type: 'activeInput', value: false });\n            }\n          }\n        }}>\n          <Header />\n          <Route exact path=\"/\">\n            {this.props.login && this.props.login !== 'Guest' && this.props.redirect ? <Redirect to=\"/chat\" /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/chat\">\n            {this.props.login && this.props.login !== 'Guest' && this.props.redirect ? <Redirect to=\"/chat\" /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route path=\"/\" exact component={MainPage} />\n          <Route path=\"/chat\" component={Chat} />\n          <Footer />\n          <Notifications />\n        </div>\n      </Router>\n    );\n  }\n}\n\nApp.propTypes = {\n  login: PropTypes.string.isRequired,\n  redirect: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({ login: state.login, redirect: state.redirect });\nexport default connect(mapStateToProps)(App);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport 'index.css';\r\nimport App from 'app';\r\nimport store from 'store/store';\r\n\r\nlet vh = window.innerHeight * 0.01;\r\ndocument.documentElement.style.setProperty('--vh', `${vh}px`);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","import { createStore } from 'redux';\n\nlet switchOption;\n\nif (JSON.parse(localStorage.getItem('switch')) === undefined || JSON.parse(localStorage.getItem('switch')) === null) {\n  switchOption = true;\n  localStorage.setItem('switch', true);\n} else {\n  switchOption = JSON.parse(localStorage.getItem('switch'))\n}\n\nconst initialState = {\n  login: localStorage.getItem('login') || 'Guest',\n  messages: ['loading'],\n  activeInput: false,\n  status: 3,\n  newMessage: localStorage.getItem('newMes') || 'new message!',\n  switch: switchOption,\n  redirect: true\n};\n\nlet mesAll = [];\n\nfunction appState(state = initialState, action) {\n  switch (action.type) {\n    case 'login':\n      localStorage.setItem('login', action.value);\n      return Object.assign({}, state, {\n        login: action.value\n      });\n    case 'redirect':\n      return Object.assign({}, state, {\n        redirect: action.value\n      });\n    case 'switch':\n      localStorage.setItem('switch', action.value);\n      return Object.assign({}, state, {\n        switch: action.value\n      });\n    case 'newMessage':\n      return Object.assign({}, state, {\n        newMessage: action.value\n      });\n    case 'messages':\n      if (typeof action.value === 'object') {\n        for (const message in action.value) {\n          mesAll.push(action.value[message]);\n        }\n      }\n      return Object.assign({}, state, {\n        messages: [...mesAll]\n      });\n    case 'activeInput':\n      return Object.assign({}, state, {\n        activeInput: action.value\n      });\n    case 'status':\n      return Object.assign({}, state, {\n        status: action.value\n      });\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(appState);\n\nexport default store;\n"],"sourceRoot":""}